webpackJsonp([0],{121:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT_MIN_SPACE=320,t.EVENT_HEIGHT=12,t.EVENT_ROW_HEIGHT=16,t.DATE_BAR_HEIGHT=60,t.RULER_LABELS_HEIGHT=60,t.timelineBlue="#0091EA",t.timelineLightBlue="#00B0FF",t.timelineLighterBlue="#40C4FF",t.timelineLightestBlue="#80D8FF"},149:function(e,t,n){var i;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var s=typeof i;if("string"===s||"number"===s)e.push(i);else if(Array.isArray(i))e.push(a.apply(null,i));else if("object"===s)for(var r in i)n.call(i,r)&&i[r]&&e.push(r)}}return e.join(" ")}void 0!==e&&e.exports?e.exports=a:void 0===(i=function(){return a}.apply(t,[]))||(e.exports=i)}()},26:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),a=n(27),s=n(846),r=n(855),o=n(857),l=n(858),d=n(419),u=e=>i.createElement("div",{ref:e.setRef,style:Object.assign({backgroundColor:"white",boxSizing:"border-box",height:"100%",overflow:"hidden",position:"relative",width:"100%"},e.style)},e.children);class c extends i.PureComponent{constructor(){super(...arguments),this.state={domains:[],domainCenter:this.props.domainCenter,events:[]},this.domainComponents=((e,t)=>{switch(e.type){case d.DomainType.Sparkline:return i.createElement(l.default,{aggregate:this.props.aggregate,domain:e,key:"sparkline",style:{zIndex:t}});case d.DomainType.Event:return i.createElement(s.default,{domain:e,events:this.state.events,fetchEvents:this.props.fetchEvents,key:"events",style:{zIndex:t}})}}),this.debouncedHandleResize=a(()=>this.setState({domains:this.getDomains(this.props)}),200)}componentDidMount(){const e=this.getDomains(this.props),t=this.getEvents(this.props.events,e.find(e=>e.type===d.DomainType.Event));this.setState({domains:e,events:t}),window.addEventListener("resize",this.debouncedHandleResize)}componentWillReceiveProps(e){if(this.props.from===e.from&&this.props.to===e.to||this.setState({domains:this.getDomains(e)}),this.props.events!==e.events){const t=this.getEvents(e.events,this.state.domains.find(e=>e.type===d.DomainType.Event));this.setState({events:t})}}componentWillUnmount(){window.removeEventListener("resize",this.debouncedHandleResize)}render(){return i.createElement(u,{setRef:e=>{this.el=e},style:this.props.style},this.state.domains.map(this.domainComponents))}getDomains(e){const t=this.el.getBoundingClientRect();return e.domains.map(n=>new d.default(e.from,e.to,t.width,t.height,e.domainCenter,n))}getEvents(e,t){return o.addTop(e.map(e=>new r.default(e,t)))}}c.defaultProps={aggregate:[],async:!1,domainCenter:.5,events:[]},t.default=c;var h=n(419);t.DomainType=h.DomainType},417:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),a=n(851),s=n(854);t.default=(e=>i.createElement("div",{style:Object.assign({height:`${100*e.domain.heightRatio}%`,position:"absolute",top:`${100*e.domain.topOffsetRatio}%`,width:"100%"},e.style)},e.domain.rulers&&i.createElement(a.default,{domain:e.domain}),e.domain.domainLabels&&i.createElement(s.default,{domain:e.domain}),e.children))},418:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.countDays=((e,t)=>null==t?0:Math.round(t.getTime()-e.getTime())/864e5),t.isEqual=((e,t)=>e.getTime()===t.getTime()),t.format=((e,t)=>{if(null==e)return"âˆž";let n=e.getFullYear().toString();t>=3&&(n=`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]} ${n}`);return t>=1&&(n=`${e.getDate()} ${n}`),0===t&&(n=`${e.getHours()}:${e.getMinutes()} ${n}`),n})},419:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(418);var a,s;(s=a=t.DomainType||(t.DomainType={}))[s.Event=0]="Event",s[s.Navigator=1]="Navigator",s[s.Sparkline=2]="Sparkline";t.default=class{constructor(e,t,n,i,s,r){if(this.domainLabels=!1,this.heightRatio=1,this.visibleRatio=1,this.rulerLabels=!0,this.rulers=!0,this.topOffsetRatio=0,this.type=a.Event,Object.keys(r).map(e=>{r[e]!==this[e]&&(this[e]=r[e])}),this.from=e,this.to=t,this.visibleRatio<1){const e=s-this.visibleRatio/2,t=s+this.visibleRatio/2,n=this.dateAtProportion(e),i=this.dateAtProportion(t);this.from=n,this.to=i}this.width=n,this.height=i*this.heightRatio,this.pixelsPerDay=this.width/this.countDays(),this.granularity=this.getGranularity()}positionAtDate(e){return i.countDays(this.from,e)*this.pixelsPerDay}dateAtPosition(e){return this.dateAtProportion(this.proportionAtPosition(e))}countDays(){return i.countDays(this.from,this.to)}dateAtProportion(e){if(e<0||e>1)throw new Error("[dateAtProportion] proportion should be between 0 and 1.");const t=this.from.getTime(),n=this.to.getTime();return new Date(t+(n-t)*e)}proportionAtPosition(e){return e/this.width}getGranularity(){const e=this.countDays();return e<1?0:e<15?1:e<45?2:e<547.5?3:e<5475?4:e<54750?5:6}}},846:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),a=n(847),s=n(848),r=n(417),o=n(121),l=e=>i.createElement("div",{onScroll:e.onScroll,style:{height:`calc(100% - ${o.RULER_LABELS_HEIGHT}px)`,overflowX:"hidden",overflowY:"auto",position:"relative",width:"100%"}},e.children),d=e=>i.createElement("ul",{style:{height:`${e.height}px`,listStyle:"none",margin:0,padding:0,width:"100%"}},e.children);t.default=class extends i.PureComponent{constructor(){super(...arguments),this.state={events:this.props.events.filter(e=>e.top<this.props.domain.height),activeRegionHeight:this.props.domain.height}}componentDidMount(){null!=this.props.fetchEvents&&this.props.fetchEvents(this.props.domain.from,this.props.domain.to)}componentWillReceiveProps(e){this.props.events!==e.events&&this.setState({events:e.events.filter(e=>e.top<this.state.activeRegionHeight)})}render(){return i.createElement(r.default,{domain:this.props.domain,style:this.props.style},i.createElement(l,{onScroll:e=>{const t=e.nativeEvent.target.scrollTop+this.props.domain.height;if(t>this.state.activeRegionHeight){const e=this.props.events.filter(e=>e.top<this.state.activeRegionHeight);this.setState({activeRegionHeight:t,events:e})}}},i.createElement(d,{height:this.props.events.reduce((e,t)=>(null==t.top&&(t.top=0),Math.max(e,t.top)),0)},this.state.events.map((e,t)=>e.isInterval()?i.createElement(a.default,{event:e,key:t}):i.createElement(s.default,{event:e,key:t})))))}}},847:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),a=n(149),s=n(121),r=e=>i.createElement("a",{style:{background:"rgba(0, 0, 0, 0.4)",borderRadius:"2px",boxSizing:"border-box",color:"#DDD",cursor:"pointer",maxWidth:e=>e.event.width>s.EVENT_MIN_SPACE?"calc(100% - 8px)":s.EVENT_MIN_SPACE,overflow:"hidden",padding:"0 4px",position:"absolute",textDecoration:"none",textOverflow:"ellipsis"}},e.children);t.default=class extends i.Component{render(){const{event:e,isNewEvent:t}=this.props;return i.createElement("li",{className:this.props.className},t?i.createElement("div",{className:"handles"},i.createElement("div",{className:"w-resize-handle"}),t&&e.isUncertain()?i.createElement("div",{className:"uncertain-w-resize-handle"}):null,i.createElement("div",{className:"move-handle"},i.createElement("div",{className:a("title",e.types,{fill:e.width>s.EVENT_MIN_SPACE})},e.title)),t&&e.isUncertain()?i.createElement("div",{className:"uncertain-e-resize-handle"}):null,i.createElement("div",{className:"e-resize-handle"})):i.createElement(r,{event:e,onClick:t=>this.props.onEventClick(e,t)},e.title))}}},848:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),a=n(849),s=n(850),r=n(121),o=e=>i.createElement("li",{style:{boxSizing:"border-box",fontSize:"0.8em",left:`${e.event.left-5}px`,position:"absolute",top:`${e.event.top}px`,whiteSpace:"nowrap",maxWidth:`${r.EVENT_MIN_SPACE}px`},title:e.event.date.toString()},e.children);t.default=(e=>i.createElement(o,{event:e.event},i.createElement(a.default,{event:e.event}),null!=e.event.title&&i.createElement(s.default,null,e.event.title)))},849:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),a=n(121);t.default=(e=>i.createElement("div",{style:{backgroundImage:"radial-gradient(white 20%, black 100%)",borderRadius:`${a.EVENT_HEIGHT/2}px`,display:"inline-block",margin:".25em 0",width:`${a.EVENT_HEIGHT}px`,height:`${a.EVENT_HEIGHT}px`}}))},850:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),a=n(121);t.default=(e=>i.createElement("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.75)",display:"inline-block",lineHeight:`${a.EVENT_HEIGHT}px`,maxWidth:`calc(${a.EVENT_MIN_SPACE}px - ${a.EVENT_HEIGHT}px)`,overflow:"hidden",padding:".25em",textOverflow:"ellipsis"}},e.children))},851:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),a=n(852),s=n(853),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=e=>{if(e>=4)return e=>i.createElement("span",null,e.getFullYear().toString());if(3===e)return e=>i.createElement("span",null,0===e.getMonth()&&i.createElement("span",null,e.getFullYear().toString(),i.createElement("br",null)),r[e.getMonth()]);if(2===e)return e=>i.createElement("span",null,r[e.getMonth()],", week ",(e=>{const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),n=t.getUTCDay()||7;t.setUTCDate(t.getUTCDate()+4-n);const i=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t.getTime()-i.getTime())/864e5+1)/7)})(e));if(1===e){const e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return t=>i.createElement("span",null,e[t.getDate()])}return 0===e?e=>i.createElement("span",null,"NOT IMPLEMENTED"):void 0},l=e=>i.createElement("ul",{style:{bottom:0,heigth:"100%",left:0,listStyle:"none",margin:0,padding:0,position:"absolute",right:0,top:0,whiteSpace:"nowrap"}},e.children);t.default=(e=>{const t=s.default(e.domain.from,e.domain.to,e.domain.granularity),n=o(e.domain.granularity);return i.createElement(l,Object.assign({},e),t.map((t,s)=>{const r=e.domain.rulerLabels?n(t):null;return i.createElement(a.default,{date:t,key:s,label:r,left:e.domain.positionAtDate(t)})}))})},852:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),a=n(121),s=e=>i.createElement("span",{style:{alignItems:"flex-end",bottom:"10px",display:"flex",height:`calc(${a.DATE_BAR_HEIGHT} - 10px)`,color:"#444",position:"absolute",zIndex:2},title:e.title},e.children),r=e=>i.createElement("li",{style:{borderLeft:"1px solid #ccc",boxSizing:"border-box",height:"100%",left:`${e.left}px`,paddingLeft:"6px",position:"absolute",transition:"all 1s cubic-bezier(.25,.8,.25,1)"}},e.children);t.default=(e=>i.createElement(r,{left:e.left},null!=e.label&&i.createElement(s,{title:e.date.toString()},e.label)))},853:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=((e,t,n)=>{const i=[];let a;if(n>=4){e=new Date(e.getFullYear(),0,1);const t=7===n?1e3:6===n?100:5===n?10:1;a=(e=>e.setFullYear(e.getFullYear()+t))}else 3===n?(e=new Date(e.getFullYear(),e.getMonth(),1),a=(e=>e.setMonth(e.getMonth()+1))):2===n?(e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a=(e=>e.setDate(e.getDate()+7))):1===n?(e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a=(e=>e.setDate(e.getDate()+1))):0===n&&(e=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()),a=(e=>e.setHours(e.getHours()+1)));for(;e<t;)i.push(e),a(e=new Date(e.valueOf()));return i})},854:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),a=e=>i.createElement("span",{style:{textShadow:"-3px 0 rgba(255, 255, 255, .7), 3px 0 rgba(255, 255, 255, .7), 0 -3px rgba(255, 255, 255, .7), 0 3px rgba(255, 255, 255, .7)"}},e.children);t.default=(e=>i.createElement("div",{style:{alignItems:"center",boxSizing:"border-box",color:"#666",display:"grid",height:"100%",gridTemplateColumns:"50% 50%",padding:"0 .25em",position:"absolute",width:"100%",zIndex:2}},i.createElement("div",null,i.createElement(a,null,e.domain.from.getFullYear())),i.createElement("div",{style:{textAlign:"right"}},i.createElement(a,null,e.domain.to.getFullYear()))))},855:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(856),a=n(121);t.default=class extends i.default{constructor(e,t){super(e),this.left=t.positionAtDate(this.from);const n=this.countDays()*t.pixelsPerDay;this.width=n>0&&n<12?12:n}space(){const e=(e=>0===e||e<a.EVENT_MIN_SPACE?a.EVENT_MIN_SPACE:e)(this.width);return[this.left,e]}}},856:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(418);t.default=class{constructor(e){this.body="",this.coordinates=[],this.types=[],this.dateGranularity=1,this.dateRangeGranularity=null,this.formatDate=(e=>{let t=this.date,n=this.dateGranularity;if(null==t){if(null!=this.dateUncertain)return`${i.format(this.dateUncertain.from,this.dateGranularity)} - ${i.format(this.dateUncertain.to,this.dateRangeGranularity)}`;if(null==e)throw new Error("[formatDate] Unknown date to format!");if(n="from"===e?this.dateGranularity:this.dateRangeGranularity,null==this.dateRangeUncertain)t=this.dateRange[e];else{if(!i.isEqual(this.dateRange[e],this.dateRangeUncertain[e]))return`${i.format(this.dateRange[e],n)} - ${i.format(this.dateRangeUncertain[e],n)}`;t=this.dateRangeUncertain[e]}}return i.format(t,n)}),Object.assign(this,e),this.setTo(),this.setFrom()}countDays(){return i.countDays(this.from,this.to)}formatFromDate(){return this.formatDate("from")}formatToDate(){return this.formatDate("to")}isInterval(){return null!=this.dateRange}isUncertain(){return null!=this.dateUncertain||null!=this.dateRangeUncertain}setFrom(){this.from=null!=this.dateRange?this.dateRange.infiniteFrom?new Date(-4713,0,1):this.dateRange.from:null!=this.date?this.date:null!=this.dateUncertain?this.dateUncertain.from:null}setTo(){this.to=null!=this.dateRange?this.dateRange.infiniteTo?new Date:this.dateRange.to:null!=this.dateUncertain?this.dateUncertain.to:null}}},857:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(121),a=(e,t)=>{const[n,i]=e.space(),[a,s]=t.space();let r=!0;return n+i<a&&(r=!1),a+s<n&&(r=!1),r};t.addTop=(e=>{if(!e.length)return e;const t=e[0],n=[[t]];return e.map(e=>{if(e===t)return e;for(let t=0;t<n.length;t++){const s=n[t];if(s.reduce((t,n)=>t&&!a(e,n),!0)){s.push(e),e.top=t*i.EVENT_ROW_HEIGHT;break}}if(null==e.top){const t=n.push([e]);e.top=(t-1)*i.EVENT_ROW_HEIGHT}return e})});const s=e=>"infinity"===(e=e.split("+")[0])?null:new Date(e),r=e=>({from:s(e.from),infiniteFrom:"infinity"===e.from,infiniteTo:"infinity"===e.to,to:s(e.to)});t.parseEvent=(e=>((e=(e=>JSON.parse(JSON.stringify(e)))(e)).date&&(e.date=s(e.date)),null!=e.dateUncertain&&(e.dateUncertain=r(e.dateUncertain)),null!=e.dateRange&&(e.dateRange=r(e.dateRange)),null!=e.dateRangeUncertain&&(e.dateRangeUncertain=r(e.dateRangeUncertain)),e))},858:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),a=n(417);t.default=(e=>{if(null==e.aggregate)return null;if(e.aggregate.length>e.domain.width)return null;const t=e.aggregate.reduce((e,t)=>Math.max(e,t.count),0),n=e.aggregate.reduce((n,i,a)=>`${n} ${0===a?"M":"L"} ${e.domain.width/(e.aggregate.length-1)*a} ${e.domain.height-i.count/t*e.domain.height}`,""),s=` L ${e.domain.width+1} ${e.domain.height+1} L -1 ${e.domain.height+1}`;return i.createElement(a.default,{domain:e.domain,style:e.style},i.createElement("svg",{viewBox:`0 0 ${e.domain.width} ${e.domain.height}`,style:{position:"relative",zIndex:1}},i.createElement("path",{d:n+s,style:{fill:"rgba(245, 245, 255, .7)",stroke:"rgb(180, 180, 255)"}})))})}});